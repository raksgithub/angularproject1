<div class="row">
  <div class="col-12">
    <h5>Please fill the detail for new recipe</h5>
    <form [formGroup]="newRecipeForm" (ngSubmit)="onAddNewRecipe()">
      <div class="form-group">
        <label for="recipe_name">Recipe Name:</label>
        <input class="form-control" type="text" id="recipe_name" formControlName="name" required />
        <div *ngIf="name.invalid && (name.touched || name.dirty)" class="alert alert-danger">
          <div *ngIf="name.errors.required">
              Recipe Name is required
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="desc">Image Url:</label>
        <input class="form-control" type="text" id="desc" formControlName="imageUrl" required />
        <div *ngIf="imageUrl.invalid && (imageUrl.touched || imageUrl.dirty)" class="alert alert-danger">
            <div *ngIf="imageUrl.errors.required">
                Image Url is required
            </div>
          </div>
      </div>
      <div class="form-group">
        <label for="desc">Recipe Description:</label>
        <textarea class="form-control" id="desc" rows="4" formControlName="desc" required></textarea>
        <div *ngIf="desc.invalid && (desc.touched || desc.dirty)" class="alert alert-danger">
            <div *ngIf="desc.errors.required">
                Recipe Description is required
            </div>
          </div>
      </div>
      <div class="row">
        <div formArrayName="ingredients">
          <div class="col-12">
            <button type="button" class="btn btn-outline-info" (click)="addIngredients()">Add Ingredients</button>
          </div>
          <div *ngFor="let ingredient of ingredients.controls; let i = index;">
            <div [formGroupName]="i" class="form-group">
              <div class="col-8 col-sm-12">
                Name: <input type="text" class="form-control" formControlName="name" />
              </div>
              <div class="col-8 col-sm-12">
                  Quantity: <input type="number" class="form-control" formControlName="quantity" pattern="^[1-9]+[0-9]*$" />
              </div>
              <div class="col-2">
                <button type="button" class="btn btn-danger" (click)="deleteIngredient(i)">X</button>
              </div>
            </div>
            <hr>
          </div>
        </div>
      </div>
      <br />
      <!-- Browse <input type="file" id="browse" accept=".jpg,.jpeg,.png" formControlName="image" /><br><br> -->
      <button type="submit" class="btn btn-lg btn-primary" [disabled]="newRecipeForm.invalid">Add Recipe</button>
    </form>      
  </div>
</div>